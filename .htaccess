RewriteEngine On
RewriteBase /

# Redirect URLs like /shop to /shop/
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^([a-zA-Z0-9-]+)$ /$1/ [R=301,L]

# Internally rewrite /shop/ to /shop/index.html if it exists
RewriteCond %{REQUEST_FILENAME}/index.html -f
RewriteRule ^(.*/)$ $1index.html [L]

# Optionally, force trailing slash for pretty URLs
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^([a-zA-Z0-9-]+)/$ /$1/index.html [L]

ErrorDocument 404 /404.html
